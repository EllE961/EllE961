name: Generate Tech Adventure Map

on:
  push:
    branches:
      - master
  workflow_dispatch:

jobs:
  generate:
    permissions:
      contents: write
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Generate Tech Adventure Map
        run: |
          echo "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'>
          <style>
            .text { font: bold 24px sans-serif; fill: white; }
          </style>
          <rect width='100%' height='100%' fill='black'/>
          <text x='50%' y='50%' class='text' dominant-baseline='middle' text-anchor='middle'>Welcome to Your Tech Adventure Map</text>
          <text x='50%' y='60%' class='text' dominant-baseline='middle' text-anchor='middle'>Unlock new levels by learning and building!</text>
          </svg>" > adventure-map.svg

      - name: Commit and push changes
        run: |
          git config --global user.email "action@github.com"
          git config --global user.name "GitHub Action"
          git add adventure-map.svg
          git commit -m "Generate Tech Adventure Map"
          git push origin output --force
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
